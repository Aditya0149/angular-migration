<div class="referred-grid-wrapper">

<!-- Start: Applying Filter -->
<div class="row margin0 paddingTB-5px" id="refGridStyle">
    <div class="col-md-12 paddingRLR">
        <div class="col-md-5 pull-left paddingRLR dropdown create">
        </div>
        <div class="col-md-7 pull-right paddingRLR clearfix">
            <ul class="pull-right">
                <li>
                    <div class="search-input form-control-margin-null ng-hide" data-ng-show="referred.showSearch">
                        <div class="default-searchico sprite"></div>
                        <input type="text" focus-me="referred.showSearch" data-ng-model-options="{ debounce: 0 }" data-ng-model="referred.referredFilterText"
                            data-ng-change="referred.filterRetain()" class="form-control ng-pristine ng-untouched ng-valid">
                    </div>
                </li>
            </ul>
            <ul class="showBy-btns pull-right">

                <li class="search-overlap">
                    <ul data-ng-hide="referred.showSearch">
                        <li>
                            <a data-ng-click="referred.showSearch = true">
                                <span class="sprite default-searchico-menu " tooltip="Search" tooltip-placement="left"></span>
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
            <div class="pull-right border">
            </div>
            <div class="pull-right">
            </div>
        </div>
    </div>
</div>
<!-- End: Applying Filter -->
<div id="referralGridUpper"></div>
<div data-ng-show="referred.fliterRefferedOutMatters.length > 0">
    <!-- referred out-->
    <div data-ng-if="(!referred.selectedStatusId.isMatterStatus  && referred.dataReceived && referred.refferedOutMatters.length > 0) && referred.activeTab === 'referred out'">
        <scrollable-table tableid="referredgrid1" watch="referred.refferedOutMatters" to="#referralGridUpper" from="#referralFooter">
            <table class="table fix-layout">
                <thead>
                    <tr>
                        <th class="th-width-15">Matter Name, File# and Index/Docket#</th>
                        <th class="th-width-15">Status & Sub-Status</th>
                        <th class="th-width-15">Referred Out To</th>
                        <th class="th-width-15">Referred Out On</th>
                        <th class="th-width-15">Message</th>
                        <th class="th-width-25">Action

                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="cur-pointer" data-ng-click="referred.showReferredInfo(response,referred.activeTab)" ng-repeat="response in referred.fliterRefferedOutMatters = (referred.refferedOutMatters | filter:referred.referredFilterText) track by response.id"
                        row-id="{{ $index }}">
                        <td>
                            <div>
                                <div>
                                    <span class="mattername-wordwrap" data-toggle="matter_name-tooltip" data-placement="right" title="" data-original-title="{{response.matter_name}}">{{response.matter_name}}</span>
                                </div>
                                <div>
                                    <span>File #</span>
                                    <span class="" data-toggle="file_number-tooltip" data-placement="right" title="" data-original-title="{{response.file_number}}">{{response.file_number}}</span>
                                </div>
                                <div>
                                    <span>Index/Docket#</span>
                                    <span class="" data-toggle="index_number-tooltip" data-placement="right" title="" data-original-title="{{response.index_number}}">{{response.index_number}}</span>
                                </div>
                            </div>
                        </td>
                        <td>
                            <div>
                                <div>
                                    <span data-toggle="status_name-tooltip" data-placement="bottom" title="" data-original-title="{{response.status_name}}">{{response.status_name}}</span>
                                </div>
                                <div>
                                    <span class="" data-toggle="sub_status_name-tooltip" data-placement="bottom" title="" data-original-title="{{response.sub_status_name}}">{{response.sub_status_name}}</span>
                                </div>
                            </div>
                        </td>
                        <td>
                            <div>
                                <span data-toggle="name-tooltip" data-placement="bottom" title="" data-original-title="{{response.name}}">{{response.name}}</span>
                            </div>
                        </td>
                        <td>
                            <div>
                                <span data-toggle="ref_out_on-tooltip" data-placement="bottom" title="" data-original-title="{{response.ref_out_on}}">{{response.ref_out_on}}</span>
                            </div>
                        </td>
                        <td>
                            <div>
                                <span data-toggle="message-tooltip" data-placement="left" title="" data-original-title="{{response.message}}">{{response.message}}</span>
                            </div>
                        </td>
                        <td>
                            <div class="button-vertical-center">

                                <button data-ng-show="response.isSender" data-ng-click="referred.cancelReferredOut($event,response)" class="btn btn-default">
                                    Cancel</button>
                                <span class="marginLR-5px"></span>

                                <button data-ng-show="response.isSender" class="btn btn-default" data-ng-click="referred.resendReferredOut($event,response)"
                                    data-ng-show="referred.showResendBtn(referred.selectedStatusId)">
                                    Resend</button>

                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </scrollable-table>
    </div>

    <!-- referred in-->
    <div data-ng-if="(!referred.selectedStatusId.isMatterStatus  && referred.dataReceived && referred.refferedOutMatters.length > 0) && referred.activeTab === 'referred in'">
        <scrollable-table tableid="referredgrid2" watch="referred.refferedOutMatters" to="#referralGridUpper" from="#referralFooter">
            <table class="table fix-layout">
                <thead>
                    <tr>
                        <th class="th-width-15">Matter Name, File# and Index/Docket#</th>
                        <th class="th-width-15">Status & Sub-Status</th>
                        <th class="th-width-15">Referred Out To</th>
                        <th class="th-width-15">Referred Out On</th>
                        <th class="th-width-15">Message</th>
                        <th class="th-width-25">Action

                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="cur-pointer" data-ng-click="referred.showReferredInfo(response,referred.activeTab)" ng-repeat="response in referred.fliterRefferedOutMatters = (referred.refferedOutMatters | filter:referred.referredFilterText) track by response.id"
                        row-id="{{ $index }}">
                        <td>
                            <div>
                                <div>
                                    <span class="mattername-wordwrap" data-toggle="matter_name-tooltip" data-placement="right" title="" data-original-title="{{response.matter_name}}">{{response.matter_name}}</span>
                                </div>
                                <div>
                                    <span>File #</span>
                                    <span class="" data-toggle="file_number-tooltip" data-placement="right" title="" data-original-title="{{response.file_number}}">{{response.file_number}}</span>
                                </div>
                                <div>
                                    <span>Index/Docket#</span>
                                    <span class="" data-toggle="index_number-tooltip" data-placement="right" title="" data-original-title="{{response.index_number}}">{{response.index_number}}</span>
                                </div>
                            </div>
                        </td>
                        <td>
                            <div>
                                <div>
                                    <span data-toggle="status_name-tooltip" data-placement="bottom" title="" data-original-title="{{response.status_name}}">{{response.status_name}}</span>
                                </div>
                                <div>
                                    <span class="" data-toggle="sub_status_name-tooltip" data-placement="bottom" title="" data-original-title="{{response.sub_status_name}}">{{response.sub_status_name}}</span>
                                </div>
                            </div>
                        </td>
                        <td>
                            <div>
                                <span data-toggle="name-tooltip" data-placement="bottom" title="" data-original-title="{{response.name}}">{{response.ref_out_fname}} {{response.ref_out_lname}}</span>
                            </div>
                        </td>
                        <td>
                            <div>
                                <span data-toggle="ref_out_on-tooltip" data-placement="bottom" title="" data-original-title="{{response.ref_out_on}}">{{response.ref_out_on}}</span>
                            </div>
                        </td>
                        <td>
                            <div>
                                <span data-toggle="message-tooltip" data-placement="left" title="" data-original-title="{{response.message}}">{{response.message}}</span>
                            </div>
                        </td>
                        <td>
                            <div class="button-vertical-center" data-ng-show="referred.showReferredActionButtons()">

                                <button data-ng-show="response.isReceiver === 1" data-ng-click="referred.paymentModal($event,response)" class="btn btn-default">
                                    Accept</button>
                                <span class="marginLR-5px"></span>

                                <button class="btn btn-default" data-ng-click="referred.declineReferral($event,response)" data-ng-show="response.isReceiver === 1">
                                    Decline</button>

                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </scrollable-table>
    </div>

    <!--matter status grid-->
    <div data-ng-if="referred.selectedStatusId.isMatterStatus && referred.dataReceived && referred.refferedOutMatters.length > 0 && referred.activeTab === 'referred out'">
        <scrollable-table tableid="referredgrid3" watch="referred.refferedOutMatters" to="#referralGridUpper" from="#referralFooter">
            <table class="table fix-layout">
                <thead>
                    <tr>
                        <th class="th-width-20">Matter Name, File# and Index/Docket#</th>
                        <th class="th-width-15">Status & Sub-Status</th>
                        <th class="th-width-15">Type & Subtype</th>
                        <th class="th-width-10">Category</th>
                        <th class="th-width-10">Venue</th>
                        <th class="th-width-10">Referred Out To</th>
                        <th class="th-width-10">Referred Out On</th>
                        <th class="th-width-10">Last updated</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="cur-pointer" data-ng-click="referred.showReferredInfo(response,referred.activeTab)" ng-repeat="response in referred.fliterRefferedOutMatters = (referred.refferedOutMatters | filter:referred.referredFilterText) track by response.id"
                        row-id="{{ $index }}">
                        <td>
                            <div>
                                <div>
                                    <span class="mattername-wordwrap" data-toggle="matter_name-tooltip" data-placement="right" title="" data-original-title="{{response.matter_name}}">{{response.matter_name}}</span>
                                </div>
                                <div>
                                    <span>File #</span>
                                    <span class="" data-toggle="file_number-tooltip" data-placement="right" title="" data-original-title="{{response.file_number}}">{{response.file_number}}</span>
                                </div>
                                <div>
                                    <span>Index/Docket#</span>
                                    <span class="" data-toggle="index_number-tooltip" data-placement="right" title="" data-original-title="{{response.index_number}}">{{response.index_number}}</span>
                                </div>
                            </div>
                        </td>
                        <td>
                            <div>
                                <div>
                                    <span data-toggle="status_name-tooltip" data-placement="bottom" title="" data-original-title="{{response.status_name}}">{{response.status_name}}</span>
                                </div>
                                <div>
                                    <span class="" data-toggle="sub_status_name-tooltip" data-placement="bottom" title="" data-original-title="{{response.sub_status_name}}">{{response.sub_status_name}}</span>
                                </div>
                            </div>
                        </td>
                        <td>
                            <div>
                                <div>
                                    <span data-toggle="matter_type_name-tooltip" data-placement="bottom" title="" data-original-title="{{response.matter_type_name}}">{{response.matter_type_name}}</span>
                                </div>
                                <div>
                                    <span data-toggle="matter_sub_type_name-tooltip" data-placement="bottom" title="" data-original-title="{{response.matter_sub_type_name}}">{{response.matter_sub_type_name}}</span>
                                </div>
                            </div>
                        </td>
                        <td>
                            <div>
                                <span data-toggle="category_name-tooltip" data-placement="bottom" title="" data-original-title="{{response.category_name}}">{{response.category_name}}</span>
                            </div>
                        </td>
                        <td>
                            <div>
                                <span data-toggle="venue_name-tooltip" data-placement="bottom" title="" data-original-title="{{response.venue_name}}">{{response.venue_name}}</span>
                            </div>
                        </td>
                        <td>
                            <div>
                                <span data-toggle="name-tooltip" data-placement="bottom" title="" data-original-title="{{response.name}}">{{response.name}}</span>
                            </div>
                        </td>
                        <td>
                            <div>
                                <span data-toggle="ref_out_on-tooltip" data-placement="bottom" title="" data-original-title="{{response.ref_out_on}}">{{response.ref_out_on}}</span>
                            </div>
                        </td>
                        <td>
                            <div>
                                <span data-toggle="modified_date_display-tooltip" data-placement="bottom" title="" data-original-title="{{response.modified_date_display}}">{{response.modified_date_display}}</span>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </scrollable-table>
    </div>

    <!--referred In matter status grid-->
    <div data-ng-if="referred.selectedStatusId.isMatterStatus && referred.dataReceived && referred.refferedOutMatters.length > 0 && referred.activeTab === 'referred in'">
        <scrollable-table tableid="referredgrid4" watch="referred.refferedOutMatters" to="#referralGridUpper" from="#referralFooter">
            <table class="table fix-layout">
                <thead>
                    <tr>
                        <th class="th-width-20">Matter Name, File# and Index/Docket#</th>
                        <th class="th-width-15">Status & Sub-Status</th>
                        <th class="th-width-15">Type & Subtype</th>
                        <th class="th-width-10">Category</th>
                        <th class="th-width-10">Venue</th>
                        <th class="th-width-10">Referred Out To</th>
                        <th class="th-width-10">Referred Out On</th>
                        <th class="th-width-10">Last updated</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="cur-pointer" data-ng-click="referred.showReferredInfo(response,referred.activeTab)" ng-repeat="response in referred.fliterRefferedOutMatters = (referred.refferedOutMatters | filter:referred.referredFilterText) track by response.id"
                        row-id="{{ $index }}">
                        <td>
                            <div>
                                <div>
                                    <span class="mattername-wordwrap" data-toggle="matter_name-tooltip" data-placement="right" title="" data-original-title="{{response.matter_name}}">{{response.matter_name}}</span>
                                </div>
                                <div>
                                    <span>File #</span>
                                    <span class="" data-toggle="file_number-tooltip" data-placement="right" title="" data-original-title="{{response.file_number}}">{{response.file_number}}</span>
                                </div>
                                <div>
                                    <span>Index/Docket#</span>
                                    <span class="" data-toggle="index_number-tooltip" data-placement="right" title="" data-original-title="{{response.index_number}}">{{response.index_number}}</span>
                                </div>
                            </div>
                        </td>
                        <td>
                            <div>
                                <div>
                                    <span data-toggle="status_name-tooltip" data-placement="bottom" title="" data-original-title="{{response.status_name}}">{{response.status_name}}</span>
                                </div>
                                <div>
                                    <span class="" data-toggle="sub_status_name-tooltip" data-placement="bottom" title="" data-original-title="{{response.sub_status_name}}">{{response.sub_status_name}}</span>
                                </div>
                            </div>
                        </td>
                        <td>
                            <div>
                                <div>
                                    <span data-toggle="matter_type_name-tooltip" data-placement="bottom" title="" data-original-title="{{response.matter_type_name}}">{{response.matter_type_name}}</span>
                                </div>
                                <div>
                                    <span data-toggle="matter_sub_type_name-tooltip" data-placement="bottom" title="" data-original-title="{{response.matter_sub_type_name}}">{{response.matter_sub_type_name}}</span>
                                </div>
                            </div>
                        </td>
                        <td>
                            <div>
                                <span data-toggle="category_name-tooltip" data-placement="bottom" title="" data-original-title="{{response.category_name}}">{{response.category_name}}</span>
                            </div>
                        </td>
                        <td>
                            <div>
                                <span data-toggle="venue_name-tooltip" data-placement="bottom" title="" data-original-title="{{response.venue_name}}">{{response.venue_name}}</span>
                            </div>
                        </td>
                        <td>
                            <div>
                                <span data-toggle="ref_out_fname-tooltip" data-placement="bottom" title="" data-original-title="{{response.ref_out_fname}}">{{response.ref_out_fname}}  {{response.ref_out_lname}}</span>
                            </div>
                        </td>
                        <td>
                            <div>
                                <span data-toggle="ref_out_on-tooltip" data-placement="bottom" title="" data-original-title="{{response.ref_out_on}}">{{response.ref_out_on}}</span>
                            </div>
                        </td>
                        <td>
                            <div>
                                <span data-toggle="modified_date_display-tooltip" data-placement="bottom" title="" data-original-title="{{response.modified_date_display}}">{{response.modified_date_display}}</span>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </scrollable-table>
    </div>
</div>
<div class="text-center margin-top20px" data-ng-if="referred.fliterRefferedOutMatters.length == 0 && referred.refferedOutMatters.length != 0">
    No matters for the applied filter
</div>

<div class="text-center margin-top20px" data-ng-if="referred.refferedOutMatters.length == 0 && referred.activeTab === 'referred out'">
    You currently do not have any Referred Out matters.
</div>

<div class="text-center margin-top20px" data-ng-if="referred.refferedOutMatters.length == 0 && referred.activeTab === 'referred in'">
    You currently do not have any Referred In matters.
</div>

<div class="row referral-footer" id="referralFooter">
    <div data-ng-show="referred.refferedOutMatters.length >0 && referred.dataReceived">
    
    <a href="javascript:void(0)" data-ng-show="referred.hideMoreBtn(referred.selectedStatusId)" data-ng-click="referred.getMore(referred.selectedStatusId,referred.activeTab)">More</a>

    <span data-ng-show="referred.hideMoreBtn(referred.selectedStatusId)" class="paddingLR-10px">|</span>

    <a href="javascript:void(0)" data-ng-show="referred.hideMoreBtn(referred.selectedStatusId)" data-ng-click="referred.getAll(referred.selectedStatusId,referred.activeTab)">All</a>
        </div>
</div>
</div>