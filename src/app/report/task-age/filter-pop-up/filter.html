
<style>
.custom-input-list ul.dropdown-menu
{
max-height: 49vh
}
</style>

<div class="modal-header clearfix">
    <h1 class="modal-title fl-left">Filters</h1>
    <button class="close fl-right"
        data-ng-click="taskAgeFilter.close()">
        <span aria-hidden="true">Ã—</span></button>
</div>

<div class="modal-body">
    <div class="row">
        <div class="col-md-12">
            <div class="row">

                <div class="col-md-6">
                    <ui-select
                        ng-model="taskAgeFilter.filter.assignedTo"
                        ng-disabled="taskAgeFilter.disableAssignedTo"
                        theme="selectize">
                <ui-select-match 
                    placeholder="Assigned To">
                    {{$select.selected.fname}}
                </ui-select-match>
                <ui-select-choices 
                repeat="user.uid as user in taskAgeFilter.users| filter:{fname:$select.search}  | orderBy:'fname'">
                <small>
                    {{user.fname}}
                </small>
                </ui-select-choices>
         </ui-select>
                </div>

                <div class="col-md-6">
                    <ui-select
                        ng-model="taskAgeFilter.filter.assignedBy"
                        theme="selectize">
                <ui-select-match 
                    placeholder="Assigned By">
                    {{$select.selected.fname}}
                </ui-select-match>
                <ui-select-choices 
                repeat="user.uid as user in taskAgeFilter.users| filter:{fname:$select.search}  | orderBy:'fname'">
                <small>
                    {{user.fname}}
                </small>
                </ui-select-choices>
         </ui-select>
                </div>
            </div>

            
            <div class="row margin-top10px"><div class="col-md-12">   <h2 class="padding-heading">Assigned On </h2></div></div>
            <div class="flexCont"></div>
            <div class="row margin-top10px">
             
                <div>
                    <div class="col-md-6">
                        <label>Start Date</label>
                        <div class="input-group datepicker ">
                            <input type="text" class="form-control"
                                datepicker-popup="MM/dd/yyyy"
                                data-ng-model="taskAgeFilter.filter.s"
                                is-open="openedStartDate"
                                data-ng-disabled="false"
                                name="doi"
                                id="assignstartDatediv"
                                validate-date error-div="#assignstartDatediv"       
                                tooltip="mm/dd/yyyy"
                                placeholder="mm/dd/yyyy"   
                                data-ng-change="taskAgeFilter.setMinMaxDate(taskAgeFilter.filter.s,'s')"
                                close-text="Close" show-button-bar="false"/>
                            <span class="input-group-btn">
                                <button type="button"
                                    class="btn btn-default"
                                    ng-click="taskAgeFilter.openCalender($event);openedStartDate = true;openedEndDate=false;openedTaskStartDate=false;openedTaskEndDate=false">
                                    <i class="default-calendar-small sprite"></i>
                                </button>
                            </span>
                        </div>
                        <div class="error" id="assignstartDateErr">Invalid date format!</div>
                    </div>
                    <div class="col-md-6">
                        <label>End Date</label>
                        <div class="input-group datepicker ">
                            <input type="text" class="form-control"
                                datepicker-popup="MM/dd/yyyy"
                                data-ng-model="taskAgeFilter.filter.e"
                                is-open="openedEndDate"
                                data-ng-disabled="false"
                                id="assignendDatediv"
                                validate-date error-div="#assignendDatediv"       
                                tooltip="mm/dd/yyyy"
                                placeholder="mm/dd/yyyy"   
                                data-ng-change="taskAgeFilter.setMinMaxDate(taskAgeFilter.filter.e,'e')"
                                close-text="Close" show-button-bar="false"/>
                            <span class="input-group-btn">
                                <button type="button"
                                    class="btn btn-default"
                                    ng-click="taskAgeFilter.openCalender($event);openedEndDate = true;openedStartDate=false;openedTaskEndDate=false;openedTaskStartDate=false">
                                    <i class="default-calendar-small sprite"></i>
                                </button>
                            </span>
                        </div>
                        <div class="error" id="assignendDateErr">Invalid date format!</div>
                    </div>
                </div>
            </div>
   <div class="row margin-top10px"><div class="col-md-12">   <h2 class="padding-heading">Due Date </h2></div></div>
            <div class="flexCont"></div>
            <div class="row margin-top10px">
    
                <div>
                    <div class="col-md-6">
                        <label>Start Date</label>
                        <div class="input-group datepicker ">
                            <input type="text" class="form-control"
                                datepicker-popup="MM/dd/yyyy"
                                data-ng-model="taskAgeFilter.filter.dueStartDate"
                                is-open="openedTaskStartDate"
                                data-ng-disabled="false"
                                id="duefiltstartDatediv"
                                validate-date error-div="#duefiltstartDatediv"       
                                tooltip="mm/dd/yyyy"
                                placeholder="mm/dd/yyyy"    
                                name="doi"
                                data-ng-change="taskAgeFilter.setMinMaxDate(taskAgeFilter.filter.dueStartDate,'dueStartDate')"
                                close-text="Close" show-button-bar="false"/>
                            <span class="input-group-btn">
                                <button type="button"
                                    class="btn btn-default"
                                    ng-click="taskAgeFilter.openCalender($event);openedTaskStartDate = true;openedTaskEndDate=false;openedEndDate=false">
                                    <i class="default-calendar-small sprite"></i>
                                </button>
                            </span>
                        </div>
                         <div class="error" id="duefiltstartDateErr">Invalid date format!</div>
                    </div>

                    <div class="col-md-6">
                        <label>End Date</label>
                        <div class="input-group datepicker ">
                            <input type="text" class="form-control"
                                datepicker-popup="MM/dd/yyyy"
                                data-ng-model="taskAgeFilter.filter.dueEndDate"
                                is-open="openedTaskEndDate"
                                data-ng-disabled="false"
                                id="duefiltendDatediv"
                                validate-date error-div="#duefiltendDatediv"       
                                tooltip="mm/dd/yyyy"
                                placeholder="mm/dd/yyyy"   
                                data-ng-change="taskAgeFilter.setMinMaxDate(taskAgeFilter.filter.dueEndDate,'dueEndDate')"
                                close-text="Close" show-button-bar="false"/>
                            <span class="input-group-btn">
                                <button type="button"
                                    class="btn btn-default"
                                    data-ng-click="taskAgeFilter.openCalender($event);openedTaskEndDate = true; openedTaskStartDate=false;openedStartDate=false">
                                    <i class="default-calendar-small sprite"></i>
                                </button>
                            </span>
                        </div>
                        <div class="error" id="duefiltendDateErr">Invalid date format!</div>
                    </div>
                </div>
            </div>
            <div class="row margin-top10px">
                <div class="col-md-6 custom-input-list" >
                    <select-matter  selectedMatt="taskAgeFilter.filter.selectedmatter">
                    </select-matter>                  
                </div>
                <div class="col-md-6" >
                    <div class="checklist">
                        <h3 class="subtitle">Priority levels</h3>
                        <ul>
                            <li class="checkbox" data-ng-repeat="priority in taskAgeFilter.priorityList">
                                <input checklist-value="priority" checklist-model="taskAgeFilter.filter.priority" type="checkbox" />
                                <label>{{priority.showName | replaceByBlank}} </label>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal-footer">
    <div class="pull-right ">
        <button data-ng-click="taskAgeFilter.resetFilters()"
            type="button"
            class="btn btn-default btn-styleNone">
            Reset</button>

        <button data-ng-click="taskAgeFilter.apply(taskAgeFilter.filter)"
            type="button"
            ng-disabled="taskAgeFilter.isDatesValid() || taskAgeFilter.enableApply"    
            class="btn btn-default">
            Apply</button>
    </div>
</div>
