<div data-ng-form="document.medicalInfoForm">
    <div class="">
        <div class="row">
            <div class="col-md-12 padding-0">
                <form class="border-box">
                    <div class="col-md-6 padding-0">
                        <div class="col-md-12 margin-top10px padding-0">
                            <div class="col-md-6">

                                <label>Physician Name</label>
                                <input type="text" data-ng-model="document.multiFilesdata[$index].newMedicalInfo.physician"
                                    data-ng-model-options="{ debounce: 500 }"
                                    ng-keydown="document.checkIfEnterKeyWasPressed($event)"
                                    placeholder="Enter physician name"
                                    typeahead="row as row.name for row in document.getContacts($viewValue,'AllTypeWithoutLead')"
                                    typeahead-input-formatter="document.formatTypeaheadDisplayPartials($model)"
                                    typeahead-loading="document.display.loadingPhysicianId"
                                    typeahead-template-url = "matter/matter-details/insaurance/contact-tpl.html"
                                    class="form-control" id="physicianid{{$index}}">
                            </div>
                            <div class="add-now-wrap">
                                <span class="or-connector">OR</span>
                                <button class="btn btn-default"
                                    data-ng-click="document.addNewContact(document.multiFilesdata[$index].newMedicalInfo,'physician')">
                                    Add New
                                </button>

                            </div>
                        </div>
                        <div class="col-md-12 margin-top10px padding-0">
                        <div class=" col-md-6">

                            <label>Service Provider</label>
                            <input type="text" data-ng-model="document.multiFilesdata[$index].newMedicalInfo.medical_provider"
                            data-ng-model-options="{ debounce: 500 }"
                            placeholder="Enter service provider name"
                            ng-keydown="document.checkIfEnterKeyWasPressed($event)"
                            typeahead="row as row.name for row in document.getContacts($viewValue,'AllTypeWithoutLead')"
                            typeahead-input-formatter="document.formatTypeaheadDisplayPartials($model)"
                            typeahead-template-url = "matter/matter-details/insaurance/contact-tpl.html"
                            typeahead-loading="document.display.loadingProviderId"
                            class="form-control" id="providerid{{$index}}">
                        </div>
                        <div class="add-now-wrap">
                            <span class="or-connector">OR</span>
                            <button class="btn btn-default"
                                data-ng-click="document.addNewContact(document.multiFilesdata[$index].newMedicalInfo,'medical_provider')">
                                Add New
                            </button>

                        </div>
                    </div>
                        <div class="margin-top10px col-md-12 padding-0">
                        <div class="col-md-4">
                            <label>Start Date of Service</label>
                            <p class="input-group datepicker margin0">
                                <input type="text"
                                    name="servicestartdate"
                                    data-ng-model="document.multiFilesdata[$index].newMedicalInfo.service_start_date"
                                    max-date="document.multiFilesdata[$index].newMedicalInfo.service_end_date"
                                    datepicker-popup="MM/dd/yyyy"
                                    is-open="document.multiFilesdata[$index].openStartDatePicker"
                                    id="docmedstartDatediv{{$index}}"
                                    data-ng-disabled="false"   
                                    validate-date error-div="#docmedstartDatediv{{$index}}"       
                                    tooltip="mm/dd/yyyy"
                                    placeholder="mm/dd/yyyy"   
                                    class="form-control" show-button-bar="false"/>
                                <span class="input-group-btn">
                                    <button type="button"
                                        class="btn btn-default"
                                        data-ng-click="document.openDatePickerMultiUpload(document.multiFilesdata[$index], $event,'openStartDatePicker');document.multiFilesdata[$index].openStartDatePicker=true;">
                                        <i class="default-calendar-small sprite"></i>
                                    </button>
                                </span>
                            </p>
                            <div class="error" id="docmedstartDateErr{{$index}}" style="float: none;">Invalid date format!</div>
                            <span
                                data-ng-show="document.showErrorMsgForDates(document.multiFilesdata[$index].newMedicalInfo.service_start_date,
                                document.multiFilesdata[$index].newMedicalInfo.service_end_date)"
                                class="error">Start date cannot be greater than end date.

                            </span>
                        </div>
                        <div class="col-md-4 padding-0">
                            <label>End Date of Service</label>
                            <p class="input-group datepicker margin0">

                                <input
                                    type="text"
                                    name="servicestartdate"
                                    min-date="document.multiFilesdata[$index].newMedicalInfo.service_start_date"
                                    data-ng-model="document.multiFilesdata[$index].newMedicalInfo.service_end_date"
                                    datepicker-popup="MM/dd/yyyy"
                                    is-open="document.multiFilesdata[$index].openEndDatePicker"
                                    id="docmedendDatediv{{$index}}"
                                    data-ng-disabled="false"   
                                    validate-date error-div="#docmedendDatediv{{$index}}"       
                                    tooltip="mm/dd/yyyy"
                                    placeholder="mm/dd/yyyy"    
                                    class="form-control" show-button-bar="false"/>
                                <span class="input-group-btn">
                                    <button type="button"
                                        class="btn btn-default"
                                        data-ng-click="document.openDatePickerMultiUpload(document.multiFilesdata[$index], $event,'openEndDatePicker')">
                                        <i class="default-calendar-small sprite"></i>
                                    </button>
                                </span>
                            </p>
                            <div style="float: none;" class="error" id="docmedendDateErr{{$index}}">Invalid date format!</div>
                        </div>

                        <div class="col-md-4  padding-0">
                            <label>Date Requested</label> 
                            <p class="input-group datepicker" style="margin-bottom:0px">

                                <input 
                                    type="text"
                                    name="daterequesteddate"
                                    data-ng-model="document.multiFilesdata[$index].newMedicalInfo.date_requested" 
                                    datepicker-popup="MM/dd/yyyy" 
                                    is-open="document.multiFilesdata[$index].openReqDatePicker"
                                    data-ng-disabled="false" 
                                    id="medreqDatediv{{$index}}" 
                                    validate-date error-div="#medreqDatediv{{$index}}" 
                                    tooltip="mm/dd/yyyy"
                                    placeholder="mm/dd/yyyy" 
                                    class="form-control" show-button-bar="false"/>
                                <span class="input-group-btn">
                                    <button type="button"
                                        class="btn btn-default"
                                        data-ng-click="document.openDatePickerMultiUpload(document.multiFilesdata[$index], $event, 'openReqDatePicker')">
                                        <i class="default-calendar-small sprite"></i>
                                    </button>
                                </span>
                            </p>
                            <div style="float: none;" class="error" id="medreqDatedivError{{$index}}">Invalid date format!</div>
                        </div>

                    </div>
                    <div class="col-md-12 margin-top10px">
                        <label>Treatment Type</label>
                        <input type="text"
                            class="form-control"
                            data-ng-model="document.multiFilesdata[$index].newMedicalInfo.treatment_type"
                            ng-keydown="document.checkIfEnterKeyWasPressed($event)"
                            placeholder="Enter treatment type" data-ng-maxlength="50" maxlength="50"/>  <!--Bug#7320-->
                    </div> 
                    </div>
                    <div class="col-md-6 padding-0">
                        <div class="col-md-12 margin-top10px">
                            <label>Memo</label>
                            <textarea  class="form-control" placeholder="Add Memo..." ng-model="document.multiFilesdata[$index].newMedicalInfo.memo" maxlength="1024" rows="5"></textarea>
                        </div>
                    </div>
                    
                    
                    

                    
                </form>
            </div>
        </div>
    </div>
</div>



